(function(e){function t(t){for(var r,s,i=t[0],c=t[1],u=t[2],f=0,d=[];f<i.length;f++)s=i[f],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&d.push(o[s][0]),o[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);l&&l(t);while(d.length)d.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,i=1;i<n.length;i++){var c=n[i];0!==o[c]&&(r=!1)}r&&(a.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},o={app:0},a=[];function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var l=c;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("5197")},5197:function(e,t,n){"use strict";n.r(t);n("a634"),n("a871"),n("667e"),n("f558");var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form",{ref:"form",attrs:{action:e.action,method:e.method},on:{submit:function(t){return t.preventDefault(),e.sendFormData(t)}}},[n("input",{attrs:{type:"hidden",name:"_method"},domProps:{value:e.method}}),e._t("default")],2)},o=[],a=(n("ac27"),n("bfdd"),n("734c"),n("cdbc"),n("0a5b"),n("6d1e"),n("9569"),n("6958"),n("87dd"),n("8b75"),n("f16b")),s=n("ac02"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"__alv-spinner"})},c=[],u={name:"lading-spinner"},l=u,f=(n("8ba7"),n("62a4")),d=Object(f["a"])(l,i,c,!1,null,"720e1b31",null),p=d.exports,m=(n("3c2a"),{responseToJSON:function(e){return new Promise((function(t){if(e instanceof Blob){var n=new FileReader;n.addEventListener("loadend",(function(e){var n=e.srcElement.result;t(JSON.parse(n))})),n.readAsText(e)}else t(e)}))}}),h={name:"alv-form",components:{LoadingSpinner:p},props:{action:String,method:{type:String,default:"post"},resetOnDone:Boolean,dataObject:Object,dataArray:Object,inputParentSelector:{type:String,default:"div"},spinner:{type:Boolean,default:!1},errorClass:{type:String,default:null},axiosConfig:{type:Object,default:function(){return{}}},htmlErrors:{type:Boolean,default:!1}},methods:{sendFormData:function(){var e,t=this,n=this.$refs.form;e="undefined"!==typeof this.dataObject?this.getFormObject():"undefined"!==typeof this.dataArray?this.getFormArray():this.getFormNames(n),this.setButtonLoading(),axios(Object(s["a"])({method:this.method,url:this.action,data:e},this.axiosConfig)).then((function(e){t.$emit("after-done",e),t.resetOnDone&&n.reset(),t.dropAllErrors()}))["catch"]((function(e){t.$emit("after-error",e.response.data),m.responseToJSON(e.response.data).then((function(e){t.unsetButtonLoading();var r=e.errors;t.showErrors(n,r)}))}))},getFormNames:function(e){return new FormData(e)},getFormArray:function(){var e=this.dataArray,t=this.createFormData();return t.append([Object.keys(e)[0]],e[Object.keys(e)[0]]),t},getFormObject:function(){var e=this,t=this.dataObject,n=this.createFormData();return Object.keys(t).forEach((function(r){n=e.append(n,t,"",r)})),n},append:function(e,t,n,r){var o=this;if(t[r]instanceof Date)return e.append(n||r,t[r].toISOString()),e;if(t[r]instanceof FileList){if("[]"!==r.slice(-2))return e.append(n||r,t[r][0]),e;for(var s=0;s<t[r].length;s++)e.append(n?"".concat(n,"[]"):r,t[r][s]);return e}return t[r]&&"object"==Object(a["a"])(t[r])?Array.isArray(t[r])?(t[r].forEach((function(a,s){e=o.append(e,t[r],n?"".concat(n,"[").concat(s,"]"):"".concat(r,"[").concat(s,"]"),s)})),e):(Object.keys(t[r]).forEach((function(a){var s="[]"===a.slice(-2)?a.substring(0,a.length-2):a;e=o.append(e,t[r],n?"".concat(n,"[").concat(s,"]"):"".concat(r,"[").concat(s,"]"),a)})),e):(null!=t[r]&&e.append(n||r,t[r]),e)},createFormData:function(){var e=new FormData;return e.append("_method",this.method),e},removeErrorInputsEvents:function(){var e=this;document.querySelectorAll(".".concat(this.errorClass," [name]")).forEach((function(t){t.addEventListener("change",(function(){t.closest(e.inputParentSelector).classList.remove(e.errorClass),t.closest(e.inputParentSelector).querySelector(".alv-error").remove()}))}))},showErrors:function(e,t){var n=this,r=Object.keys(t);this.getInputFormsNames().forEach((function(o){var a="[name='"+o+"']",s=e.querySelector(a).closest(n.inputParentSelector),i=s.getElementsByClassName("alv-error");if(r.includes(o))if(i.length>0)i[0][n.htmlErrors?"innerHTML":"textContent"]=t[o][0];else{var c=n.getDefaultSpan();c[n.htmlErrors?"innerHTML":"textContent"]=t[o][0],s.append(c),null!=n.errorClass&&s.classList.add(n.errorClass)}else i.length>0&&i[0].remove()})),this.removeErrorInputsEvents()},dropAllErrors:function(){var e=document.getElementsByClassName("alv-error");while(e[0])e[0].parentNode.removeChild(e[0])},getDefaultSpan:function(){var e=document.createElement("span");return e.classList.add("alv-error"),e.style.fontSize="70%",e.style.color="crimson",e},getInputFormsNames:function(){var e=this.$refs.form.querySelectorAll(this.inputParentSelector+" [name]"),t=[];return e.forEach((function(e){t.push(e.getAttribute("name"))})),t},setButtonLoading:function(){var e=this.submitButton;if(null!=e){if(this.spinner){var t=new(Vue.extend(p));t.$mount(),e.appendChild(t.$el)}e.disabled=!0}},unsetButtonLoading:function(){var e=this.submitButton;null!=e&&(this.spinner&&e.lastChild.remove(),e.disabled=!1)}},computed:{id:function(){return this.$refs.form.id},submitButton:function(){var e=this.$refs.form.querySelector("[type='submit']");return null!=e?e:document.querySelector('button[form="'.concat(this.id,'"]'))}}},v=h,b=Object(f["a"])(v,r,o,!1,null,"2245f83e",null),y=b.exports;t["default"]={install:function(e){e.component("alv-form",y)}}},"8ba7":function(e,t,n){"use strict";var r=n("f805"),o=n.n(r);o.a},f805:function(e,t,n){}});
//# sourceMappingURL=app.15f9f4b1.js.map